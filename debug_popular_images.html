<!DOCTYPE html>
<html>
<head>
    <title>Image Debug - Popular Food Items</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-container { margin: 20px 0; padding: 20px; border: 2px solid #ccc; }
        .test-image { max-width: 300px; height: 200px; border: 1px solid #ddd; margin: 10px; }
        .success { border-color: green; background: #f0fff0; }
        .error { border-color: red; background: #fff0f0; }
        .info { background: #f0f8ff; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Popular Food Images Debug</h1>
    
    <div class="info">
        <strong>Testing Image Paths:</strong><br>
        Base URL: <span id="baseUrl"></span><br>
        Server Response Test in progress...
    </div>

    <div class="test-container">
        <h3>Test 1: Direct Image Access</h3>
        <img class="test-image" src="images/popular/1.png" 
             onload="this.parentNode.className='test-container success'; this.nextElementSibling.innerHTML='✅ Image 1 loaded successfully'"
             onerror="this.parentNode.className='test-container error'; this.nextElementSibling.innerHTML='❌ Image 1 failed to load'">
        <div>Loading...</div>
        
        <img class="test-image" src="images/popular/2.png" 
             onload="this.parentNode.className='test-container success'; this.nextElementSibling.innerHTML='✅ Image 2 loaded successfully'"
             onerror="this.parentNode.className='test-container error'; this.nextElementSibling.innerHTML='❌ Image 2 failed to load'">
        <div>Loading...</div>
        
        <img class="test-image" src="images/popular/3.png" 
             onload="this.parentNode.className='test-container success'; this.nextElementSibling.innerHTML='✅ Image 3 loaded successfully'"
             onerror="this.parentNode.className='test-container error'; this.nextElementSibling.innerHTML='❌ Image 3 failed to load'">
        <div>Loading...</div>
    </div>

    <div class="test-container">
        <h3>Test 2: Fallback Images</h3>
        <img class="test-image" src="images/2.png" 
             onload="this.parentNode.className='test-container success'; this.nextElementSibling.innerHTML='✅ Fallback 2.png loaded successfully'"
             onerror="this.parentNode.className='test-container error'; this.nextElementSibling.innerHTML='❌ Fallback 2.png failed to load'">
        <div>Loading...</div>
        
        <img class="test-image" src="images/3.png" 
             onload="this.parentNode.className='test-container success'; this.nextElementSibling.innerHTML='✅ Fallback 3.png loaded successfully'"
             onerror="this.parentNode.className='test-container error'; this.nextElementSibling.innerHTML='❌ Fallback 3.png failed to load'">
        <div>Loading...</div>
    </div>

    <div class="test-container">
        <h3>Test 3: Food Cards (Styled like homepage)</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
            <div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <img style="width: 100%; height: 200px; object-fit: cover;" 
                     src="images/popular/1.png" alt="String Hoppers"
                     onload="console.log('Food card 1 loaded'); this.style.border='2px solid green'"
                     onerror="console.log('Food card 1 failed'); this.src='images/2.png'; this.style.border='2px solid orange'">
                <div style="padding: 20px;">
                    <h3>String Hoppers</h3>
                    <p>A Sri Lankan delicacy, perfect for breakfast or dinner.</p>
                </div>
            </div>
            
            <div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <img style="width: 100%; height: 200px; object-fit: cover;" 
                     src="images/popular/2.png" alt="Kottu Roti"
                     onload="console.log('Food card 2 loaded'); this.style.border='2px solid green'"
                     onerror="console.log('Food card 2 failed'); this.src='images/2.png'; this.style.border='2px solid orange'">
                <div style="padding: 20px;">
                    <h3>Kottu Roti</h3>
                    <p>A flavorful Sri Lankan street food favorite.</p>
                </div>
            </div>
            
            <div style="background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <img style="width: 100%; height: 200px; object-fit: cover;" 
                     src="images/popular/3.png" alt="Fish Ambulthiyal"
                     onload="console.log('Food card 3 loaded'); this.style.border='2px solid green'"
                     onerror="console.log('Food card 3 failed'); this.src='images/3.png'; this.style.border='2px solid orange'">
                <div style="padding: 20px;">
                    <h3>Fish Ambulthiyal</h3>
                    <p>A tangy and spicy fish curry, unique to Sri Lanka.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('baseUrl').textContent = window.location.origin + window.location.pathname.replace('/debug_popular_images.html', '/');
        
        // Log image loading attempts
        console.log('Starting image debug test...');
        console.log('Base URL:', window.location.origin + window.location.pathname.replace('/debug_popular_images.html', '/'));
    </script>
</body>
</html>
